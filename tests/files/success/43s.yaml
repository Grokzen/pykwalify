--- # Doc 0
name: sequence1
desc: sequence test
#
schema:
  type: seq
  required: true
  sequence:
    - type: str
      required: true
data:
  - foo
  - bar
  - baz
##
--- # Doc 1
name:  mapping1
desc:  mapping test
#
schema:
  type: map
  required: true
  mapping:
    name:
      type: str
      required: true
    email:
      type: str
      # This pattern value was modified from /@/ to .+@.+ to make it copmatible with python
      pattern: .+@.+
      required: True
    age:
      type: int
    blood:
      type: str
      enum:
        - A
        - B
        - O
        - AB
    # TODO: Date type is not yet implemented
    # birth:
    #   type: date
#
data:
  name: foo
  email: foo@mail.com
  age: 20
  blood: AB
  # birth:   1985-01-01
##
--- # Doc 2
name:  nested1
desc:  nest of seq and map
#
schema:
  type: map
  required: True
  mapping:
    address-book:
      type: seq
      required: True
      sequence:
        - type: map
          mapping:
            name:
              type: str
              required: True
            email:
              type: str
              pattern: .+@.+
              required: True
            age:
              type: int
            blood:
              type: str
              enum:
                - A
                - B
                - O
                - AB
            # TODO: Date type is not yet implemented
            # birth:
            #   type:       date
#
data:
  address-book:
    - name: foo
      email: foo@mail.com
      age: 20
      blood: AB
      # birth: 1985-01-01
    - name: bar
      email: foo@mail.com
##
---
name:  assert1
desc:  assert test
#
schema: 
  type: seq
  sequence:
    - type: map
      mapping:
       "less-than":
          type: number
          assert: val < 8
       "more-than":
          type: number
          assert: 3 < val
       "between":
          type: number
          assert: 3 < val and val < 8
       "except":
          type: number
          assert: val < 3 or 8 < val
#
data:
  - less-than: 5
  - more-than: 5
  - between: 5
  - except: 0
##
---
name: deftype1
desc: default type test
#
schema:
  type: seq
  sequence:
    - type: map
      mapping:
       "name":
       "email":
#
data:
  - name: foo
    email: foo@mail.com
  - name: bar
  - email: baz@mail.com
##
---
name:  ident1
desc:  ident constraint test
#
schema:
  type: seq
  sequence:
    - type: map
      mapping:
       "name":
          ident: true
       "age":
          type: int
#
data:
  - name: foo
    age:  10
  - name: bar
    age:  10
  - name: baz
    age:  10
##
---
name:  default1
desc:  default value of map
#
schema:
  type: map
  mapping:
    =:
      type: number
      range: 
        min: -10
        max: 10
#
data:
  value1: 0
  value2: 10
  value3: -10
